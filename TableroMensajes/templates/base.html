<!DOCTYPE html>
{% load static %}
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Tablero de Mensajes{% endblock %}</title>
    <link href="{% static 'mensajes/css/bootstrap.min.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'mensajes/css/estilos.css' %}">
</head>
<body>
    <div class="contenedor">
        {% include 'navbar.html' %} 
        <div class="contenido">
            {% block content %}
            <!-- Contenido de cada plantilla-->
             {% endblock %}
        </div>
    <footer class="mt-5">
        <div style="text-align: center;">
            <p>&copy; 2023 Tablero de Mensajes. Todos los derechos reservados.</p>
            <p>Web II 2024 - TP2</p>
            <p>Profesor: Lic. Julio C. Casco</p>
            <p>Alumno: Moraga Lucas</p>
    </div>
    </footer>
    </div>

   <!-- Script para cambiar de pestaña activa --> 
   <!-- ESTE SCRIPT FUE DESABILITADO POR INCOMPATIBILIDAD CON BOOTSTRAP --> 
-<script>
    function toggleTabs(tab) {
        // Mostrar u ocultar el contenido basado en la pestaña seleccionada
        document.getElementById('contenidoTodos').style.display = (tab === 'todos') ? 'block' : 'none';
        document.getElementById('contenidoRecibidos').style.display = (tab === 'recibidos') ? 'block' : 'none';
        document.getElementById('contenidoEnviados').style.display = (tab === 'enviados') ? 'block' : 'none';
        document.getElementById('contenidoFavoritos').style.display = (tab === 'favoritos') ? 'block' : 'none';

        // Cambiar la clase 'active' en la pestaña seleccionada
        document.getElementById('tabTodos').classList.toggle('active', tab === 'todos');
        document.getElementById('tabRecibidos').classList.toggle('active', tab === 'recibidos');
        document.getElementById('tabEnviados').classList.toggle('active', tab === 'enviados');
        document.getElementById('tabFavoritos').classList.toggle('active', tab === 'favoritos');

        // Actualizar el valor del campo oculto de filtro en el formulario
        document.querySelector('input[name="filtro"]').value = tab;
    }
    document.addEventListener('DOMContentLoaded', function() {
        const urlParams = new URLSearchParams(window.location.search);
        const filtro = urlParams.get('filtro') || 'todos';
        // Establecer la pestaña activa al cargar la página
        toggleTabs(filtro);
    });
    // Escuchar eventos de click en las pestañas para cambiar el valor del filtro
    document.getElementById('tabTodos').addEventListener('click', function() {
        toggleTabs('todos');
    });
    document.getElementById('tabRecibidos').addEventListener('click', function() {
        toggleTabs('recibidos');
    });
    document.getElementById('tabEnviados').addEventListener('click', function() {
        toggleTabs('enviados');
    });
    document.getElementById('tabFavoritos').addEventListener('click', function() {
        toggleTabs('favoritos');
    });
</script>   

<script src="{% static 'mensajes/js/bootstrap.bundle.min.js' %}"></script>
</body>
</html>